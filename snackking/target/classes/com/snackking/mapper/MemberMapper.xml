<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  	<mapper namespace="com.snackking.mapper.MemberMapper">
  	
		<insert id="memberJoin">
  			insert into member values(#{id}, #{pwd}, #{name}, #{email}, #{tel}, #{addrNum}, #{addr1}, #{addr2}, now())
  		</insert>
  		
  		<select id="idCheck" resultType="int">
  			select count(*) from member where id = #{id}
  		</select>
  		
  		<select id="memberLogin_id" parameterType="com.snackking.model.MemberDTO" resultType="int">
  			select count(*) from member where id = #{id}
  		</select>
  		
  		<select id="memberLogin_id_pwd" parameterType="com.snackking.model.MemberDTO" resultType="int">
  			select count(*) from member where id = #{id} and pwd = #{pwd}
  		</select>
  		
  		<select id="getMemberInfo" resultType="com.snackking.model.MemberDTO">
  			select * from member where id = #{id}
  		</select>
  		
  		<select id="getBuyInfo_mypageMain" resultType="com.snackking.model.BuyDTO">
  			select * from buy where id = #{id} and
  			buy_date between DATE_ADD(NOW(), INTERVAL -2 week ) AND NOW()
  			order by buy_date desc
  		</select>
  		
	</mapper>